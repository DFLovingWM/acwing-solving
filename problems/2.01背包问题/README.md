# 2. 01背包问题

## 题意

给定有限的金钱，使买到的物品总价值最大。

## 思路

因为之前的抉择会影响现有的抉择，并且需要求出最好的选择，所以这是个动态规划问题。写法可分为：

- Top-down DP：对于每一个物品，有不选（任何时候）、选（钱够的情况下）这2种选择。
- Bottom-up DP，空间复杂度可以优化：
  - 常规：`O(NV)`空间
  - 压缩成滚动数组：`O(2V)=O(V)`
  - 压缩成一维数组：`O(V)`。因为是小下标更新大下标，所以需要逆序遍历。

时间复杂度统一为：`O(NV)`。

结论：

- 迭代比递归要快
- 空间压缩会带来时间上的减少

## Bottom-up DP写法细节

数组没有负下标，所以对于初始状态的定义，有2种做法：

- 将下标`0`作为初始状态，不参与迭代
  - 优点：统一逻辑，使代码更简短
  - 缺点：`0`下标没有意义了，导致循环变量`i`会有1位偏差，即访问的是`costs[i-1]`。为了从意义上解决这个问题，通常用“前i个”而不是“第i个”来表示状态。
- 将下标`0`作为初始状态，但是参与迭代
  - 优点：意义上更好理解
  - 缺点：`0`下标表示第`0`个，但是它的迭代是单独进行的，跟后面的所有伙伴是分开的

## 反思总结

动态规划系列的入门题/经典题。
